{
  "galaxyco-server-component": {
    "prefix": "gsc",
    "body": [
      "// âœ… Server Component",
      "import { Suspense } from 'react';",
      "import { ${1:ComponentName}Skeleton } from './${2:component-name}-skeleton';",
      "",
      "export async function ${1:ComponentName}() {",
      "  // Fetch data in Server Component",
      "  const data = await get${3:Data}();",
      "",
      "  return (",
      "    <div className=\"${4:container py-8}\">",
      "      <Suspense fallback={<${1:ComponentName}Skeleton />}>",
      "        {/* Component content */}",
      "        $0",
      "      </Suspense>",
      "    </div>",
      "  );",
      "}"
    ],
    "description": "GalaxyCo Server Component with Suspense"
  },

  "galaxyco-client-component": {
    "prefix": "gcc",
    "body": [
      "'use client';",
      "",
      "import { useState } from 'react';",
      "import { motion } from 'framer-motion';",
      "import { Card } from '@/components/ui/card';",
      "",
      "interface ${1:ComponentName}Props {",
      "  ${2:data}: ${3:DataType};",
      "}",
      "",
      "export function ${1:ComponentName}({ ${2:data} }: ${1:ComponentName}Props) {",
      "  const [${4:state}, set${4/(.*)/${1:/capitalize}/}] = useState(${5:initialValue});",
      "",
      "  return (",
      "    <motion.div",
      "      initial={{ opacity: 0, y: 20 }}",
      "      animate={{ opacity: 1, y: 0 }}",
      "      transition={{ duration: 0.3 }}",
      "    >",
      "      <Card>",
      "        $0",
      "      </Card>",
      "    </motion.div>",
      "  );",
      "}"
    ],
    "description": "GalaxyCo Client Component with Framer Motion"
  },

  "galaxyco-server-action": {
    "prefix": "gsa",
    "body": [
      "'use server';",
      "",
      "import { db } from '@/lib/db';",
      "import { ${1:tableName} } from '@packages/database/schema';",
      "import { auth } from '@clerk/nextjs/server';",
      "import { revalidatePath } from 'next/cache';",
      "import { z } from 'zod';",
      "",
      "// Input validation schema",
      "const ${2:actionName}Schema = z.object({",
      "  ${3:fieldName}: z.string().min(1, '${3/(.*)/${1:/capitalize}/} is required'),",
      "});",
      "",
      "type ${2/(.*)/${1:/capitalize}/}Input = z.infer<typeof ${2:actionName}Schema>;",
      "",
      "/**",
      " * ${4:Action description}",
      " * ",
      " * @param input - The action input data",
      " * @security Multi-tenant: Uses orgId from auth",
      " * @returns Success/error result",
      " */",
      "export async function ${2:actionName}(input: ${2/(.*)/${1:/capitalize}/}Input) {",
      "  const { orgId } = await auth();",
      "  ",
      "  if (!orgId) {",
      "    return {",
      "      success: false,",
      "      error: 'You must be logged in',",
      "    };",
      "  }",
      "",
      "  try {",
      "    // Validate input",
      "    const validated = ${2:actionName}Schema.parse(input);",
      "",
      "    // Perform database operation",
      "    const [result] = await db",
      "      .insert(${1:tableName})",
      "      .values({",
      "        ...validated,",
      "        orgId, // MANDATORY: Set orgId from auth",
      "      })",
      "      .returning();",
      "",
      "    // Revalidate cache",
      "    revalidatePath('${5:/path}');",
      "",
      "    return {",
      "      success: true,",
      "      data: result,",
      "    };",
      "  } catch (error) {",
      "    console.error('Error in ${2:actionName}:', error);",
      "    ",
      "    // User-friendly error message",
      "    return {",
      "      success: false,",
      "      error: error instanceof z.ZodError",
      "        ? 'Invalid input. Please check your data.'",
      "        : 'Operation failed. Please try again.',",
      "    };",
      "  }",
      "}",
      "$0"
    ],
    "description": "GalaxyCo Server Action with validation and error handling"
  },

  "galaxyco-database-query": {
    "prefix": "gq",
    "body": [
      "'use server';",
      "",
      "import { db } from '@/lib/db';",
      "import { ${1:tableName} } from '@packages/database/schema';",
      "import { eq, and } from 'drizzle-orm';",
      "import { auth } from '@clerk/nextjs/server';",
      "",
      "/**",
      " * ${2:Query description}",
      " * ",
      " * @security Multi-tenant: Filtered by orgId",
      " * @returns ${3:Return description}",
      " */",
      "export async function get${4:EntityName}() {",
      "  const { orgId } = await auth();",
      "  ",
      "  if (!orgId) {",
      "    throw new Error('Unauthorized');",
      "  }",
      "",
      "  try {",
      "    const results = await db",
      "      .select()",
      "      .from(${1:tableName})",
      "      .where(eq(${1:tableName}.orgId, orgId)) // MANDATORY orgId filter",
      "      .orderBy(${1:tableName}.createdAt);",
      "",
      "    return results;",
      "  } catch (error) {",
      "    console.error('Error fetching ${4:EntityName}:', error);",
      "    throw new Error('Failed to fetch ${4:EntityName}');",
      "  }",
      "}",
      "$0"
    ],
    "description": "GalaxyCo database query with orgId filtering"
  },

  "galaxyco-form": {
    "prefix": "gf",
    "body": [
      "'use client';",
      "",
      "import { useForm } from 'react-hook-form';",
      "import { zodResolver } from '@hookform/resolvers/zod';",
      "import { z } from 'zod';",
      "import { Button } from '@/components/ui/button';",
      "import {",
      "  Form,",
      "  FormControl,",
      "  FormDescription,",
      "  FormField,",
      "  FormItem,",
      "  FormLabel,",
      "  FormMessage,",
      "} from '@/components/ui/form';",
      "import { Input } from '@/components/ui/input';",
      "import { toast } from 'sonner';",
      "",
      "const formSchema = z.object({",
      "  ${1:fieldName}: z.string().min(1, '${1/(.*)/${1:/capitalize}/} is required'),",
      "});",
      "",
      "type FormValues = z.infer<typeof formSchema>;",
      "",
      "export function ${2:FormName}() {",
      "  const form = useForm<FormValues>({",
      "    resolver: zodResolver(formSchema),",
      "    defaultValues: {",
      "      ${1:fieldName}: '',",
      "    },",
      "  });",
      "",
      "  async function onSubmit(values: FormValues) {",
      "    try {",
      "      const result = await ${3:serverAction}(values);",
      "      ",
      "      if (result.success) {",
      "        toast.success('${4:Success message}');",
      "        form.reset();",
      "      } else {",
      "        toast.error(result.error);",
      "      }",
      "    } catch (error) {",
      "      toast.error('${5:Error message}');",
      "    }",
      "  }",
      "",
      "  return (",
      "    <Form {...form}>",
      "      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">",
      "        <FormField",
      "          control={form.control}",
      "          name=\"${1:fieldName}\"",
      "          render={({ field }) => (",
      "            <FormItem>",
      "              <FormLabel>${1/(.*)/${1:/capitalize}/}</FormLabel>",
      "              <FormControl>",
      "                <Input placeholder=\"Enter ${1:fieldName}\" {...field} />",
      "              </FormControl>",
      "              <FormDescription>",
      "                ${6:Field description}",
      "              </FormDescription>",
      "              <FormMessage />",
      "            </FormItem>",
      "          )}",
      "        />",
      "",
      "        <Button",
      "          type=\"submit\"",
      "          disabled={form.formState.isSubmitting}",
      "        >",
      "          {form.formState.isSubmitting ? '${7:Submitting...}' : '${8:Submit}'}",
      "        </Button>",
      "      </form>",
      "    </Form>",
      "  );",
      "}",
      "$0"
    ],
    "description": "GalaxyCo form with React Hook Form + Zod validation"
  },

  "galaxyco-test-component": {
    "prefix": "gtc",
    "body": [
      "import { describe, it, expect, vi } from 'vitest';",
      "import { render, screen, userEvent } from '@testing-library/react';",
      "import { ${1:ComponentName} } from './${2:component-name}';",
      "",
      "describe('${1:ComponentName}', () => {",
      "  it('should render successfully', () => {",
      "    render(<${1:ComponentName} ${3:props} />);",
      "    ",
      "    expect(screen.getByRole('${4:role}')).toBeInTheDocument();",
      "  });",
      "",
      "  it('should handle ${5:interaction}', async () => {",
      "    const user = userEvent.setup();",
      "    const ${6:mockHandler} = vi.fn();",
      "    ",
      "    render(<${1:ComponentName} ${7:on${6/(.*)/${1:/capitalize}/}={${6:mockHandler}}} />);",
      "    ",
      "    await user.click(screen.getByRole('button'));",
      "    ",
      "    expect(${6:mockHandler}).toHaveBeenCalledTimes(1);",
      "  });",
      "",
      "  it('should be accessible', () => {",
      "    const { container } = render(<${1:ComponentName} ${3:props} />);",
      "    ",
      "    // Check for aria-label",
      "    expect(screen.getByLabelText('${8:label}')).toBeInTheDocument();",
      "  });",
      "});",
      "$0"
    ],
    "description": "GalaxyCo component test with Vitest + Testing Library"
  },

  "galaxyco-test-action": {
    "prefix": "gta",
    "body": [
      "import { describe, it, expect, vi, beforeEach } from 'vitest';",
      "import { ${1:actionName} } from './${2:action-file}';",
      "",
      "// Mock dependencies",
      "vi.mock('@clerk/nextjs/server', () => ({",
      "  auth: vi.fn(() => ({ orgId: 'test-org-id' })),",
      "}));",
      "",
      "vi.mock('@/lib/db', () => ({",
      "  db: {",
      "    insert: vi.fn(() => ({",
      "      values: vi.fn(() => ({",
      "        returning: vi.fn(() => [{ id: 'test-id' }]),",
      "      })),",
      "    })),",
      "  },",
      "}));",
      "",
      "vi.mock('next/cache', () => ({",
      "  revalidatePath: vi.fn(),",
      "}));",
      "",
      "describe('${1:actionName}', () => {",
      "  it('should execute successfully', async () => {",
      "    const result = await ${1:actionName}({",
      "      ${3:fieldName}: '${4:test value}',",
      "    });",
      "",
      "    expect(result.success).toBe(true);",
      "    expect(result.data).toBeDefined();",
      "  });",
      "",
      "  it('should validate input', async () => {",
      "    const result = await ${1:actionName}({",
      "      ${3:fieldName}: '', // Invalid input",
      "    });",
      "",
      "    expect(result.success).toBe(false);",
      "    expect(result.error).toBeDefined();",
      "  });",
      "",
      "  it('should require authentication', async () => {",
      "    vi.mocked(auth).mockResolvedValueOnce({ orgId: null });",
      "",
      "    const result = await ${1:actionName}({",
      "      ${3:fieldName}: '${4:test value}',",
      "    });",
      "",
      "    expect(result.success).toBe(false);",
      "    expect(result.error).toContain('logged in');",
      "  });",
      "});",
      "$0"
    ],
    "description": "GalaxyCo Server Action test"
  },

  "galaxyco-page": {
    "prefix": "gp",
    "body": [
      "import { Suspense } from 'react';",
      "import { auth } from '@clerk/nextjs/server';",
      "import { redirect } from 'next/navigation';",
      "import { ${1:ComponentName} } from '@/components/galaxy/${2:path}/${3:component-name}';",
      "import { Skeleton } from '@/components/ui/skeleton';",
      "",
      "export default async function ${4:PageName}() {",
      "  const { userId } = await auth();",
      "  ",
      "  if (!userId) {",
      "    redirect('/sign-in');",
      "  }",
      "",
      "  return (",
      "    <div className=\"container py-8\">",
      "      <div className=\"mb-6\">",
      "        <h1 className=\"text-3xl font-bold\">${5:Page Title}</h1>",
      "        <p className=\"text-muted-foreground\">",
      "          ${6:Page description}",
      "        </p>",
      "      </div>",
      "",
      "      <Suspense fallback={<Skeleton className=\"h-64\" />}>",
      "        <${1:ComponentName} />",
      "      </Suspense>",
      "    </div>",
      "  );",
      "}",
      "$0"
    ],
    "description": "GalaxyCo page with authentication and Suspense"
  },

  "galaxyco-error-handler": {
    "prefix": "geh",
    "body": [
      "try {",
      "  ${1:// Your code here}",
      "} catch (error) {",
      "  console.error('${2:Error context}:', error);",
      "  ",
      "  // User-friendly error message",
      "  return {",
      "    success: false,",
      "    error: '${3:User-friendly error message}',",
      "  };",
      "}",
      "$0"
    ],
    "description": "GalaxyCo error handler pattern"
  },

  "galaxyco-zod-schema": {
    "prefix": "gzs",
    "body": [
      "import { z } from 'zod';",
      "",
      "export const ${1:schemaName}Schema = z.object({",
      "  ${2:fieldName}: z.string()",
      "    .min(${3:1}, '${2/(.*)/${1:/capitalize}/} is required')",
      "    .max(${4:100}, '${2/(.*)/${1:/capitalize}/} must be less than ${4:100} characters'),",
      "  $0",
      "});",
      "",
      "export type ${1/(.*)/${1:/capitalize}/} = z.infer<typeof ${1:schemaName}Schema>;"
    ],
    "description": "GalaxyCo Zod validation schema"
  },

  "galaxyco-suspense-boundary": {
    "prefix": "gsb",
    "body": [
      "<Suspense fallback={<${1:LoadingComponent} />}>",
      "  $0",
      "</Suspense>"
    ],
    "description": "GalaxyCo Suspense boundary"
  },

  "galaxyco-loading-skeleton": {
    "prefix": "gls",
    "body": [
      "export function ${1:ComponentName}Skeleton() {",
      "  return (",
      "    <div className=\"${2:space-y-4}\">",
      "      <Skeleton className=\"h-${3:12} w-${4:full}\" />",
      "      <Skeleton className=\"h-${5:12} w-${6:3/4}\" />",
      "      $0",
      "    </div>",
      "  );",
      "}"
    ],
    "description": "GalaxyCo loading skeleton component"
  },

  "galaxyco-toast-success": {
    "prefix": "gts",
    "body": [
      "toast.success('${1:Success message}');"
    ],
    "description": "GalaxyCo success toast"
  },

  "galaxyco-toast-error": {
    "prefix": "gte",
    "body": [
      "toast.error('${1:Error message}');"
    ],
    "description": "GalaxyCo error toast"
  }
}

